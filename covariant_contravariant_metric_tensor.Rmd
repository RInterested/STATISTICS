---
output: 
  html_document:
    css: custom.css
---

<br>
<a href="http://rinterested.github.io/statistics/index.html">
<img HEIGHT="20" WIDTH="80" src="https://cloud.githubusercontent.com/assets/9312897/10556783/a27a26fa-745c-11e5-9b1a-2d5bd737387a.PNG"></a>
<br><br>

<br>

###COVARIANT, CONTRAVARIANT and METRIC TENSOR:

<br>

####Change to oblique coordinates:

From [this introductory differential geometry series online](https://youtu.be/AKPZkHvqTao?list=PLD1448E024E04C24D) ushering in the concepts of **contravariant** ($A^i$) and **covariant** ($A_i$) of a vector as a change of coordinates:


In the setting of oblique coordinates, $y$ axis is tilted, but the $x$ axis stays unchanged:

<img src="https://user-images.githubusercontent.com/9312897/38968539-e52896ac-4359-11e8-9622-72fcec7f8f02.png" width=400>


The **contravariant** is calculated as:



$\tan(\alpha) =\large \frac{y}{*}$; and therefore, $\large * = \frac{y}{\tan(\alpha)}$

and 

$$\begin{align}c^u &= x - * \\[3ex]&= x - \frac{y}{\tan(\alpha)}\end{align}$$

while 

$$c^v = \frac{y}{\sin(\alpha)}$$


Therefore the original orthogonal coordinates will transform into the new oblique coordinates through the matrix

$$H = \begin{bmatrix} 1 & - \frac{1}{\text{tan}(\alpha)} \\
                  0 & \frac{1}{\text{sin}(\alpha)}
\end{bmatrix}$$

as follows:

$$\begin{bmatrix} 1 & - \frac{1}{\text{tan}(\alpha)} \\
                  0 & \frac{1}{\text{sin}(\alpha)}
\end{bmatrix}
\begin{bmatrix} x \\ y
\end{bmatrix}=
\begin{bmatrix} c^u \\ c^v
\end{bmatrix} = \begin{bmatrix} c^1 \\ c^2
\end{bmatrix}
$$


---

On the other hand, the **covariant** is calculated as:



<img src="https://user-images.githubusercontent.com/9312897/38969425-40dbed9c-435e-11e8-8111-758c2059e4ef.png" >

where,

$$c_u = x$$ 
and

$$c_v = x\,\cos(\alpha) + y\, \sin(\alpha)\tag 1$$

---

This expression (1) is derived as follows:


<img src="https://cloud.githubusercontent.com/assets/9312897/22278003/0a71579c-e28e-11e6-8eba-220f242fc233.png" width=450>


The angles $\alpha$ and $\beta$ are complementary, and $\sin \alpha = \cos \beta$.

$\varphi= b \cos \beta = b \sin \alpha$

$\psi = a \cos \alpha$

$c_v = \psi + \varphi = a \cos \alpha + b \sin \alpha$

---

It follows that the covariant transformation will be through the matrix

$$M = \begin{bmatrix} 1 & 0 \\ \cos \alpha & \sin \alpha \end{bmatrix}$$

Therefore,

$$\begin{bmatrix} 1 & 0 \\
                  \cos\alpha & \sin \alpha
\end{bmatrix}
\begin{bmatrix} x \\ y
\end{bmatrix}=
\begin{bmatrix} c_u \\ c_v
\end{bmatrix} = \begin{bmatrix} c_1 \\ c_2
\end{bmatrix}
$$

---

From [this video](https://youtu.be/qDLmJE2bOy4),


<img src="https://user-images.githubusercontent.com/9312897/38970692-e7e489fe-4364-11e8-81a0-da59d357f9c4.png">

$G$ is the **METRIC TENSOR**, and turns the covariate into the contravariate:

\begin{align}
\bf G &= H\,M^{-1}\\[3ex]
&= \frac{1}{\sin\alpha}\begin{bmatrix}1&-\frac{1}{\tan\alpha}\\0&\frac{1}{\sin\alpha}\end{bmatrix}
\begin{bmatrix} \sin\alpha & 0\\-\cos\alpha &1\end{bmatrix}\\[3ex]
&=\frac{1}{\sin\alpha} \begin{bmatrix}\sin\alpha+\frac{\cos\alpha}{\tan\alpha} & -\frac{1}{\tan \alpha}\\ -\frac{\cos\alpha}{\sin\alpha} & \sin\alpha \end{bmatrix}\\[3ex]
&=\frac{1}{\sin^2\alpha}\begin{bmatrix}1 & - \cos\alpha\\-\cos\alpha\end{bmatrix}
\end{align}

---

[See this post for metric tensor](http://www.mathpages.com/rr/s5-02/5-02.htm), and [this other one](http://web.mit.edu/edbert/GR/gr1.pdf).

---

#####METRIC TENSOR:

From [this presentation](https://youtu.be/C76lWSOTqnc):

To preserve the length of a vector $\vec v$ regardless of the whether referenced to coordinates with orthonormal basis vectors $\{\vec e_1,\vec e_2\},$ or the alternative oblique coordinates $\{\vec{ \tilde e_1}, \vec {\tilde e_2}\}$ we need to calculate norm as the dot product.

<img src="https://user-images.githubusercontent.com/9312897/39078850-e21d0a30-44dd-11e8-896c-ac0f3ade6c4e.png">

With respect to the orthonormal basis vectors,

$$\begin{align}
\Vert \vec v \Vert^2 &= \vec v \cdot \vec v \\[2ex]
&=(v^1\vec e_1 + v^2 \vec e_2) \cdot (v^1 \vec e_1 + v^2 \vec e_2)\\[2ex]
&=(v^1)^2 (\vec e_1 \cdot \vec e_2) + 2 v^1v^2(\vec e_1 \cdot e_2) + (v^2)^2(\vec e_2\cdot \vec e_2)\tag 1\\[2ex]
&=(v^1)^2 (\vec e_1 \cdot \vec e_2) + (v^2)^2(\vec e_2\cdot \vec e_2)\\[2ex]
&=(2)^2 + (1)^2
=5\end{align}$$

The last line is consequence of the orthogonality of the basis vectors. However, when using non-orthogonal coordinates we'll need to calculate the dot products of the basis vectors. Paralleling equation (1):

$$\begin{align}\Vert \vec v \Vert^2&=(\tilde v^1)^2 \left(\vec{\tilde e_1}\cdot \vec{\tilde e_1}\right)+ 2 \tilde v^1 \tilde v^2 \left(\vec{\tilde e_1}\cdot \vec{\tilde e_2}\right)+(\tilde v^2)^2\left(\vec{\tilde e_2 }\cdot\vec{\tilde e_2}\right)\end{align}\tag 2$$

Calculating the dot products, then,

$$\begin{align}
\vec{\tilde e_1}\cdot \vec{\tilde e_1}&= (2\vec e_1+1\vec e_2)\cdot (2\vec e_1 + 1\vec e_2)\\[2ex]
&=4 \vec e_1 \cdot \vec e_1 + 2\cdot 2 \vec e_1 \vec e_2 + 1 \vec e_2\vec e_2\\[2ex]
&= 4 + 1 \\[2ex]
&=5
\end{align}$$
$$\begin{align}
\vec{\tilde e_2}\cdot \vec{\tilde e_2}&= \left(-\frac{1}{2}\vec e_1+\frac{1}{4}\vec e_2\right)\cdot \left(-\frac{1}{2}\vec e_1+\frac{1}{4}\vec e_2\right)\\[2ex]
&=\frac{1}{4} \vec e_1 \cdot \vec e_1 - 2\cdot \frac{1}{8} \vec e_1 \vec e_2 + \frac{1}{16} \vec e_2\vec e_2\\[2ex]
&= \frac{1}{4} + \frac{1}{16} \\[2ex]
&=\frac{5}{16}
\end{align}$$

$$\begin{align}
\vec{\tilde e_1}\cdot \vec{\tilde e_2}&= (2\vec e_1+1\vec e_2)\cdot \left(-\frac{1}{2}\vec e_1+\frac{1}{4}\vec e_2\right)\\[2ex]
&=-1 \vec e_1 \cdot \vec e_1 + 2\cdot \frac{1}{2} \vec e_1 \vec e_2 + \frac{1}{4} \vec e_2\vec e_2\\[2ex]
&= -1 + \frac{1}{4} \\[2ex]
&=-\frac{3}{4}
\end{align}$$

Plugging these results in equation (2):

$$\begin{align}\Vert \vec v \Vert^2&=(\tilde v^1)^2 5+ 2 \tilde v^1 \tilde v^2 \left(-\frac{3}{4}\right)+(\tilde v^2)^2\left(\frac{5}{16}\right)\end{align}$$
Now, in the graph above we have as given that $\vec v = \frac{5}{4} \vec {\tilde e_1} + 3 \vec{\tilde e_2}.$ Therefore,

$$\begin{align}\Vert \vec v \Vert^2&=\left(\frac{5}{4}\right)^2 \left(5\right)+ 2 \left(\frac{5}{4}3\right) \left(-\frac{3}{4}\right)+\left(3\right)^2\left(\frac{5}{16}\right)=5\end{align}$$

This can be expressed as


$$\begin{bmatrix}\tilde v^1 & \tilde v^2\end{bmatrix}\;\color{blue}{\begin{bmatrix}5 & -\frac{3}{4}\\-\frac{3}{4}& \frac{5}{16}\end{bmatrix}}\;\begin{bmatrix}\tilde v^1 \\ \tilde v^2\end{bmatrix}=\begin{bmatrix}\frac{5}{4} & 3\end{bmatrix}\;\color{blue}{\begin{bmatrix}5 & -\frac{3}{4}\\-\frac{3}{4}& \frac{5}{16}\end{bmatrix}}\;\begin{bmatrix}\frac{5}{4} \\ 3\end{bmatrix}$$

The metric tensor is

$$g_{\vec{\tilde e_i}}=\color{blue}{\begin{bmatrix}5 & -\frac{3}{4}\\-\frac{3}{4}& \frac{5}{16}\end{bmatrix}}_{\vec{\tilde e_i}}$$

In the case of the orthogonal matrix, the metric tensor is

$$g_{\vec{ e_i}}=\color{blue}{\begin{bmatrix}1 & 0\\0& 1\end{bmatrix}}_{\vec{ e_i}}$$

So the metric tensor is the matrix of dot products, such in the case of

$$g_{\vec{\tilde e_i}}=\color{blue}{\begin{bmatrix}\vec{\tilde e_1}\cdot \vec{\tilde e_1}& \vec{\tilde e_1}\cdot \vec{\tilde e_2}\\\vec{\tilde e_2}\cdot \vec{\tilde e_1}& \vec{\tilde e_2}\cdot \vec{\tilde e_2}\end{bmatrix}}_{\vec{\tilde e_i}}$$



---

#### [GEOMETRIC INTERPRETATION OF CURVILINEAR COORDINATES AND THE METRIC TENSOR:](https://youtu.be/NJzzbGcIYX0):


The following diagram fails to represent the $V^*$ or dual basis vectors, because the orthogonal vector to a point on a line in 3D is not defined...


<img src="https://cloud.githubusercontent.com/assets/9312897/22623288/44d4978a-eb23-11e6-9c1d-daf21e480ea2.png">

In reality these dual basis vectors are the normal vectors to the tangent to a surface on which the position vector (extrinsic coordinates) defining each point only change in one of the components:


<img src="https://user-images.githubusercontent.com/9312897/31577807-4949bb5c-b0e3-11e7-851a-633688c4e575.png" width="1000">

The position vectors $\vec r$ for any point are notated in relation to the basis vectors $\vec e_i,$ i.e. $\vec r(y^1,y^2,y^3)=x^1(y^1,y^2,y^3)\vec e_1 + x^2(y^1,y^2,y^3)\vec e_2 + x^3(y^1,y^2,y^3)\vec e_3.$  There are two sets of coordinates at play, but the trick is that eventually everything depends on the basis vectors $\vec y_i.$  The curvilinear curves are all shown in the diagram above, but only one of the curvilinear coordinates is highlighted in bold red. The new **coordinate curves or axes** are generated by allowing only one of the $\vec y_i$ coordinates to vary, while holding the other two constant, i.e. $\left (\vec r(y^1,c_2,c_3),\vec r(c_1,y^2,c_3),\vec r(c_1,c_2,y^3) \right ).$ The derivative of the position vector along each of the coordinate curves (one of them highlighted in dark red on the diagram) is responsible for the **covariant** basis vectors $\left\{\frac{\partial \vec r}{\partial y^1}, \frac{\partial \vec r}{\partial y^2}, \frac{\partial \vec r}{\partial y^3} \right \}.$ The **contravariant** basis are given by the **coordinate surfaces**, resulting from keeping one of the $y^i$ components contant, and allowing the other two to vary, i.e. $y^1(x^1,x^2,x^3)=c_1,$ $y^2(x^1,x^2,x^3)=c_2,$$y^3(x^1,x^2,x^3)=c_3.$ The normal or orthogonal vectors, $\nabla y_i$ represent these covariant coordinates.

This is explained on the [covariance and contravariance of vectors entry in Wikipedia](https://en.wikipedia.org/wiki/Covariance_and_contravariance_of_vectors).

<img src="https://user-images.githubusercontent.com/9312897/31578319-d6c880e0-b0ec-11e7-8e8e-6fb1a3f76e33.png">


  [1]: https://cloud.githubusercontent.com/assets/9312897/18643188/fa8b6c8a-7e71-11e6-99dd-969f835b03ce.png
  
  
The relation between covariant and contravariant basis is the relation between the tangent vector space and the dual.


---

<a href="http://rinterested.github.io/statistics/index.html">Home Page</a>
